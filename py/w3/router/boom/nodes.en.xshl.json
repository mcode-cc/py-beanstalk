{
    "xshl": "py:argparse",
    "macro": [
        {"m": "&i", "*": ["argparse"], "**": {"fromlist": ["ArgumentParser"]}},
        {
            "m": ">.ArgumentParser",
            "*": ["nodes"],
            "**": {
                "description": "A foo that bars",
                "epilog": "And that's how you'd foo a bar",
                "add_help": false
            },
            "l": "$:nodes"
        },
        {"m": "$:nodes.add_subparsers", "**": {"dest": "command"}, "l": "$:subparsers"},
        {"m": "$:subparsers.add_parser", "*": ["add"], "l": "$:add"},
        {
            "m": "$:add.add_argument",
            "*": ["-n", "--name"],
            "**": {"dest": "name", "required": true, "help": "Node name"}
        },
        {
            "m": "$:add.add_argument",
            "*": ["-H", "--host"],
            "**": {"dest": "host", "required": true, "help": "Endpoint host"}
        },
        {"m": "$:add.add_argument", "*": ["-P", "--port"],
            "**": {"dest": "port", "default": 11300, "required": false, "help": "Endpoint port"}},
        {"m": "$:add.add_argument", "*": ["-p", "--priority"],
            "**": {"dest": "priority", "required": false, "help": "Endpoint priority"}},
        {"m": "$:add.add_argument", "*": ["-d", "--description"],
            "**": {"dest": "description", "required": false, "help": "Endpoint description"}},
        {"m": "$:subparsers.add_parser", "*": ["show"], "l": "$:show"},
        {"m": "$:show.add_argument", "*": ["-n", "--name"],
            "**": {"dest": "name", "required": false, "help": "Node name"}},
        {"m": "$:subparsers.add_parser", "*": ["del"], "l": "$:del"},
        {"m": "$:del.add_argument", "*": ["-n", "--name"],
            "**": {"dest": "name", "required": true, "help": "Node name"}},
        {"m": "$:del.add_argument", "*": ["-H", "--host"],
            "**": {"dest": "host", "required": false, "help": "Endpoint host"}},
        {"m": "$:del.add_argument", "*": ["-P", "--port"],
            "**": {"dest": "port", "default": 11300, "required": false, "help": "Endpoint port"}},
        {"m": "$:subparsers.add_parser", "*": ["save"], "l": "$:save"},
        {"m": "$:save.add_argument", "*": ["-f", "--filename"],
            "**": {"dest": "filename", "required": true, "help": "File name for save nodes"}},
        {"m": "$:subparsers.add_parser", "*": ["load"], "l": "$:load"},
        {"m": "$:load.add_argument", "*": ["-f", "--filename"],
            "**": {"dest": "filename", "required": true, "help": "File name for load nodes"}}
    ]
}